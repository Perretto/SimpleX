@model List<Simplex.Pizzaria.Models.fornecedor>
@using Simplex.Pizzaria.Models

@{
    //ViewBag.Title = "fornecedorListagem";
    //Layout = "~/Views/Shared/_Layout.cshtml";
    var detalhes = "";
}
<script src="~/Scripts/framework/jquery.simplexis.fornecedor.js"></script>
@{
    if (Model != null)
    {
        for (var i = 0; i < Model.Count; i++)
        {
            detalhes = "";
            <div class="grid-form1">
                <h4>@Model[i].codigo - @Model[i].razaoSocial</h4>

                <br />
                <table class="table">
                    <tbody>
                        <tr class="table-row">
                            <td class="table-img">
                                <img src="~/images/in.jpg" alt="">
                            </td>
                            <td class="table-text">
                                <h6>@Model[i].nomeFantasia</h6>

                                @if (Model[i].CNPJ != "")
                                {
                                    detalhes += "CNPJ: " + Model[i].CNPJ + " | ";
                                }

                                @if (Model[i].CPF != "")
                                {
                                    detalhes += "CPF: " + Model[i].CPF + " | ";
                                }

                                @if (Model[i].fornecedoresEnderecos.Count > 0)
                                {
                                    List<fornecedorEndereco> lstfornecedorEndereco = (List<fornecedorEndereco>)Model[i].fornecedoresEnderecos;
                                    detalhes += lstfornecedorEndereco[0].logradouro + " | ";
                                }

                                @if (Model[i].fornecedoresContatos.Count > 0)
                                {
                                    List<fornecedorContato> lstfornecedoresContatos = (List<fornecedorContato>)Model[i].fornecedoresContatos;
                                    detalhes += "Telefone: " + lstfornecedoresContatos[0].telefoneContato + " | ";
                                }

                                <p>@detalhes</p>
                            </td>
                            @*<td class="march">fornecedor com fatura em atraso</td>*@
                            <td style="width:1px">
                                <a href="~/fornecedor/fornecedor/fornecedorCadastroEdicao?idFornecedor=@Model[i].ID" class="btn btn-primary"><i class="fa fa-pencil"></i></a>
                                <a href="javascript:excluirFornecedor('@Model[i].ID')" class="btn btn-danger"><i class="fa fa-trash"></i></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <br />
        }
    }
}
